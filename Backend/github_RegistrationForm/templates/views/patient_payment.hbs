<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Razorpay Integration</title>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

  <label for="amount">Enter Amount:</label>
  <input type="number" id="amount" name="amount" required>
  <br>
  <button id="payButton">Pay Now</button>

  <script>
    document.getElementById('payButton').onclick = function () {
      const amount = document.getElementById('amount').value;

      // Make an AJAX request to your server to create an order
      fetch('/createOrder', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ amount: amount }),
      })
      .then(response => response.json())
      .then(order => {
        const options = {
          key: 'YOUR_RAZORPAY_KEY_ID',
          amount: order.amount,
          currency: order.currency,
          name: 'Your Company Name',
          description: 'Payment for your product or service',
          order_id: order.id,
          handler: function (response) {
            // Make an AJAX request to your server to verify the payment
            fetch('/verifyPayment', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(response),
            })
            .then(verificationResponse => verificationResponse.json())
            .then(result => {
              console.log(result);
              // Update your UI or handle success/failure
            });
          },
          prefill: {
            name: 'John Doe',
            email: 'john@example.com',
            contact: '1234567890',
          },
          notes: {
            address: 'Your Company Address',
          },
          theme: {
            color: '#F37254',
          },
        };

        const rzp = new Razorpay(options);
        rzp.open();
      })
      .catch(error => console.error(error));
    };
  </script>

</body>
</html>
